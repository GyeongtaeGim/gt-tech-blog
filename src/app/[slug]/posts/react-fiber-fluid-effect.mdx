---
title: 'react fiber three mouse fluid effect'
publishedAt: '2025-04-21'
summary: 'react fiber three에서 shader를 이용한 mouse fluid effect 입니다.'
category: 'portfolio'
tags: ['react', 'three.js', 'RF3']
image: '/static/posts/react-fiber-fluid-effect/og.png'
---

react fiber, drei, three.js 등으로 shader를 생성하여 mouse fluid effect를 구현했습니다.

컨셉은 fluid (유체) 시뮬레이션 기반으로 전역에서 WebGLRenderer로 fluid mask image를 생성하고 이를 기반으로 각 ShaderMaterial에 값을 주입하여 구현했습니다.

## 3D Model + Background

기본적인 동작 화면입니다. 화면 속 오브젝트는 모두 각자의 Position을 갖고 있지만 gl_FragCoord의 속성을 이용하여 위치와 관계 없이 화면을 기준으로 고정된 UV로 fluid mask texutre를 적용하여 동일한 mask가 처리되도록 했습니다.

<Video src='/static/posts/react-fiber-fluid-effect/3d-fluid.mp4' />

## Text + Rainbow + Div Element

Text에 fluid mask texture을 확장하여 step 별로 다양한 색상을 주입해 mask가 처리되며 윤곽에 색상을 추가했습니다.

또한 화면 상으로는 노란 배경이 마스크 처리되며 뒤에 초록색 배경이 나오는 것 처럼 보이지만 사실은 노란 배경 초록색 새로운 Screen이 떠 있고 색상을 교차하여 하나처럼 보이도록 구성 했습니다. 초록색 요소는 Div Element로 rect를 계산하여 Canvas에서 위치를 파악해 Render 되고 있습니다.

<Video src='/static/posts/react-fiber-fluid-effect/text-fluid.mp4' />

## Image + RBG Shift

Image 위 fluid mask texture 기반으로 blur와 함께 RGB를 x,y,z로 밀고 색상을 강화하여 프리즘과 같은 효과를 구현 했습니다.

<Video src='/static/posts/react-fiber-fluid-effect/image-fluid.mp4' />
